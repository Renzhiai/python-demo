#==========删除 basedata 测试数据==========
#小区
delete from basedata.t_base_unit where `name`='chad';
#小区功能管理
delete from basedata.t_r_unit_funciton where area_id=(select id from db_unitpropertybase.t_pb_unit where `name`='chad');


#==========删除 unitdoorcontrol 测试数据==========
#1号社区-房屋，模式一
delete from db_unitdoorcontrol.t_udc_appcard_business_flow where business_unit_name='chad' and business_room_name in ('0102','0103');
delete from db_unitdoorcontrol.t_udc_appcard_valid where unit_name='chad' and room_name in ('0102','0103');
#1号社区-房屋，模式二
delete from db_unitdoorcontrol.t_udc_appcard_business_flow where business_unit_name='chad' and business_room_name in ('0202','0203');
delete from db_unitdoorcontrol.t_udc_appcard_valid where unit_name='chad' and room_name in ('0202','0203');
#1号社区-房屋，模式三
delete from db_unitdoorcontrol.t_udc_appcard_business_flow where business_unit_name='chad' and business_room_name in ('0302','0303');
delete from db_unitdoorcontrol.t_udc_appcard_valid where unit_name='chad' and room_name in ('0302','0303');


#==========删除 wygl 测试数据==========
#物业费
delete from wygl.wy_house_price where area_id=(select id from db_unitpropertybase.t_pb_unit where `name`='chad');
#缴费状态
delete from wygl.wy_payment_term where unit_id=(select id from db_unitpropertybase.t_pb_unit where `name`='chad');
#物业缴费查询
delete from wygl.wy_payment_detail where area_id=(select id from db_unitpropertybase.t_pb_unit where `name`='chad');
truncate wygl.wy_payment_term_log;
truncate wygl.wy_sys_timer_log;
#银行卡
delete from wygl.wy_bankcard_info where unit_id=(select id from db_unitpropertybase.t_pb_unit where `name`='chad') and pay_url='';
#支付链接
delete from wygl.wy_bankcard_info where unit_id=(select id from db_unitpropertybase.t_pb_unit where `name`='chad') and pay_url<>'';
#公告管理
delete from wygl.wy_announcement where areaid=(select id from db_unitpropertybase.t_pb_unit where `name`='chad') and project_type_id=3;
#投诉管理
delete from wygl.wy_complaint where areaid=(select id from db_unitpropertybase.t_pb_unit where `name`='chad') and project_type_id=3;
#报修管理
delete from wygl.wy_complaint where areaid=(select id from db_unitpropertybase.t_pb_unit where `name`='chad') and project_type_id=2;
#放行条
delete from wygl.release_scrip_log where from_user_id=(select user_id from wygl.release_scrip where user_id=(
select user_id from wygl.release_scrip where unit_id=(
select id from db_unitpropertybase.t_pb_unit where `name`='chad') limit 1) limit 1);
delete from wygl.release_scrip where unit_id=(select id from db_unitpropertybase.t_pb_unit where `name`='chad');


#==========删除 unitpropertybase 测试数据==========
#物业机构
delete from db_unitpropertybase.t_pb_organize where organize_name like '%万达集团%';
#悦生活
delete from db_unitpropertybase.t_yue_life_info where unit_id=(select id from db_unitpropertybase.t_pb_unit where `name`='chad');
#职工、权限
delete from db_unitpropertybase.t_pb_user_department where user_id=(select id from db_unitpropertybase.t_pb_user_account where user_account='chad');
delete from db_unitpropertybase.t_pb_user_unit where account_id=(select id from db_unitpropertybase.t_pb_user_account where user_account='chad');
delete from db_unitpropertybase.t_pb_user_account where user_account='chad';
delete from db_unitpropertybase.t_pb_user_role where role_name='chad测试';
#值班
delete from db_unitpropertybase.t_duty_info where unit_id=(select id from db_unitpropertybase.t_pb_unit where `name`='chad');
delete from db_unitpropertybase.t_duty_user where unit_id=(select id from db_unitpropertybase.t_pb_unit where `name`='chad');
#房屋
delete from db_unitpropertybase.t_upb_room where unit_id=(select id from db_unitpropertybase.t_pb_unit where `name`='chad');
delete from db_unitpropertybase.t_upb_visibletalk where unit_id=(select id from db_unitpropertybase.t_pb_unit where `name`='chad');
#楼栋
delete from db_unitpropertybase.t_upb_building where unit_id=(select id from db_unitpropertybase.t_pb_unit where `name`='chad');
#最后删除小区
delete from db_unitpropertybase.t_pb_unit where `name`='chad';
#1号社区房屋，模式一
delete from db_unitpropertybase.t_upb_room where unit_id=(select id from db_unitpropertybase.t_pb_unit where `name`='chad') and room_code in ('01010102','01010103');
delete from db_unitpropertybase.t_upb_visibletalk where unit_id=(select id from db_unitpropertybase.t_pb_unit where `name`='chad') and room_code in ('01010102','01010103');
#1号社区房屋，模式二
delete from db_unitpropertybase.t_upb_room where unit_id=(select id from db_unitpropertybase.t_pb_unit where `name`='chad') and room_code in ('02010202','02010203');
delete from db_unitpropertybase.t_upb_visibletalk where unit_id=(select id from db_unitpropertybase.t_pb_unit where `name`='chad') and room_code in ('02010202','02010203');
#1号社区房屋，模式三
delete from db_unitpropertybase.t_upb_room where unit_id=(select id from db_unitpropertybase.t_pb_unit where `name`='chad') and room_code in ('03010302','03010303');
delete from db_unitpropertybase.t_upb_visibletalk where unit_id=(select id from db_unitpropertybase.t_pb_unit where `name`='chad') and room_code in ('03010302','03010303');